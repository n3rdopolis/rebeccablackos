--- /usr/share/cryptsetup/cryptroot_setup.sh	2016-07-01 05:01:39.000000000 -0400
+++ /usr/share/initramfs-tools/hooks/cryptroot	2017-08-08 23:44:52.800026639 -0400
@@ -439,6 +439,11 @@
 		done
 	fi
 
+	depdev="$(lsblk $dev  -p -n -o NAME -r | sed -n 2p)"
+	if [ -z "$depdev" ]; then
+		dev=$depdev
+	fi
+
 	altdev="${dev#/dev/mapper/}"
 	if [ "$altdev" != "$dev" ]; then
 		echo "$altdev"
@@ -704,6 +709,7 @@
 	copy_exec /sbin/cryptsetup
 	copy_exec /sbin/dmsetup
 	copy_exec /lib/cryptsetup/askpass
+	copy_exec /sbin/lsblk
 
 	# We need sed. Either via busybox or as standalone binary.
 	if [ "$BUSYBOX" = "n" ] || [ ! -e ${BUSYBOXDIR}/busybox ]; then
